@page
@model IBCS_Core_Web_Portal.Pages.Marking.BranchboardModel
@{
}

<style>
    .hide {
        display: none;
    }
</style>

<div class="loader-wrapper" id="loader_ct" style="visibility:hidden">
    <span class="loader">
        <img src="~/assets/img/logo/favicon.png" alt="Logo">
    </span>
</div>
<div class="g-pa-20">
    <div id="div_msg" class="card bg-danger text-white shadow hide">
        <div class="card-body">
            <label id="msg"></label>
        </div>
    </div>
    <div class="g-hidden-sm-down header-title g-pa-20 text-center">
        <ul class="u-list-inline g-color-gray-dark-v6">
            <li class="list-inline-item g-mr-10">
            <li class="list-inline-item">
                <h4 class="mb-0 text-white">Scoreboard Bank - Branch Clearing Position</h4>
            </li>
        </ul>
    </div>

    <section class="section1">
        <div class="row mt-3">
            <div class="col-lg-8">
                <div class="card h-100">
                    <div class="card-body">
                        <form method="post">
                        <div class="row">
                                <div class="col-sm-6 col-lg-6 g-mb-10">
                                <label for="DDL_Bank">Bank:</label>
                                @if (Model.instBanks != null)
                                {
                                    <select name="DDL_Bank" id="DDL_Bank" class="form-control">

                                        @foreach (var bk in Model.instBanks)
                                        {
                                            <option value="@bk.InstId">@bk.InstName</option>
                                        }
                                    </select>
                                }
                            </div>

                                <div class="col-sm-6 col-lg-6 g-mb-10">
                                <label for="DDL_Cycle">Select Cycle:</label>
                                <select name="DDL_Cycle" id="DDL_Cycle" class="form-control">
                                    <option selected value=0>Select Cycle</option>
                                    @if (Model.cycle != null)
                                    {
                                        @foreach (var cyc in Model.cycle)
                                        {
                                            <option value="@cyc.CycleNo">@cyc.CycleDesc</option>
                                        }
                                    }
                                </select>
                            </div>

                                <div class="col-sm-6 col-lg-6 g-mb-10">
                                <label for="DDL_City">Select City:</label>
                                <select name="DDL_City" id="DDL_City" class="form-control">
                                    <option selected value=0>Select City</option>
                                    @if (Model.cities != null)
                                    {
                                        @foreach (var ct in Model.cities)
                                        {
                                            <option value="@ct.cityid">@ct.cityname</option>
                                        }

                                    }
                                </select>
                            </div>

                                <div class="col-sm-6 col-lg-6 g-mb-10">
                                <label for="DDL_Cycle"> Clearing Type:</label>
                                <select name="DDL_BankType" id="DDL_BankType" class="form-control">
                                        @{
                                            var dt = ViewData["DtType"] as System.Data.DataTable;

                                            @foreach (System.Data.DataRow dr in dt.Rows)
                                            {
                                                if (dr["ClgID"].ToString() == "0")
                                                {
                                                    <option selected value="@dr["ClgID"].ToString()">@dr["ClgType"].ToString()</option>
                                                }
                                                else
                                                {
                                                    <option value="@dr["ClgID"].ToString()">@dr["ClgType"].ToString()</option>
                                                }
                                            }
                                        }
                                </select>
                            </div>

                                <div class="col-sm-6 col-lg-6 g-mb-10">
                                <label for="DDL_Branch">Select Branch:</label>
                                <select name="DDL_Branch" id="DDL_Branch" class="form-control">
                                    @*@if (Model.branches != null)
                                    {
                                    @foreach (var Bra in Model)
                                    {
                                    <option value="@Bra.brid">@Bra.branchName</option>
                                    }
                                    }*@
                                </select>
                            </div>

                                <div class="col-sm-6 col-lg-6 g-mb-10 text-right mt-auto">
                                <button type="button" id="submit_" class="btn btn-danger btn-submit"><i class="fa-solid fa-arrow-right-from-arc"></i> Submit</button>
                            </div>
                          </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                                <div class="table-responsive h-100">
                                    <table class="table u-table--v3--bordered g-color-black text-center table-striped h-100">
                                        <thead>
                                            <tr>
                                                <th>Count</th>
                                                <th>Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                            <td><span id="lblcount"></span></td>
                                            <td><span id="lblamount"></span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12 text-right">
                <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#filter"><i class="fa-solid fa-filter"></i> Show Filter</button>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table table-bordered table-striped bank-transfer text-center" id="sbrcp_transfer">
                         <thead>
                            <tr>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            @* @if (Model.obj != null)
                            {
                                @foreach (var file in Model.obj)
                                {
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr class="odd-row">
                                                        <th colspan="2"></th>
                                                        <th colspan="2">Tr Seq No</th>

                                                        @if (ViewData["clg_type"] == "0")
                                                        {
                                                            <th colspan="3" id="clgbk">OW Bank Name</th>
                                                            <th colspan="3" id="clgbr">OW Branch Name</th>
                                                        }
                                                        else
                                                        {
                                                            <th colspan="3">IW Bank Name</th>
                                                            <th colspan="3">IW Branch Name</th>
                                                        }
                                                        @* <th colspan="3" id="clgbk"></th>
                                                <th colspan="3" id="clgbr"></th> 
                                                        <script>
                                                            if ($("#DDL_BankType").val() == "0") {
                                                                $("#clgbk").text("OW Bank Name");
                                                                $("#clgbr").text("OW Branch Name");
                                                            }
                                                            else {
                                                                $("#clgbk").text("IW Bank Name");
                                                                $("#clgbr").text("IW Branch Name");
                                                            }
                                                        </script>
                                                        <th>Tran Code</th>
                                                        <th colspan="2">Acc No</th>
                                                        <th>Chq No</th>
                                                        <th>Amount</th>
                                                        <td rowspan="4">
                                                            <button onclick="return ImageButton1('@file.hostId','@file.trCode','@file.senderBankName','@file.senderBranchName',
                                                                     '@file.trId','@file.accountNo','@file.chequeNo','@file.amount','@file.recieverBankName','@file.recieverBranchName','@file.underSizeImage',
                                                                     '@file.folderOrTornDocumentCorners','@file.foldedOrTornDocumentEdges','@file.framingError','@file.documentSkew','@file.overSizeImage',
                                                                     '@file.piggyBack','@file.imageTooLight','@file.imageTooDark','@file.horizontalStreaks','@file.belowMinimumCompressedImageSize',
                                                                      '@file.aboveMaximumCompressedImageSize','@file.frontRearDimensionMismatch','@file.carbonStrip','@file.outOfFocus','@file.cycleDescription','@file.clearingType','@file.cityName')"
                                                                    type="button" class="btn btn-secondary view_btn">
                                                                <i class="fa-solid fa-eye"></i> View
                                                            </button>

                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-danger" colspan="2">MICR Data</td>
                                                        <td colspan="2">@file.trCode</td>
                                                        <td colspan="3">@file.senderBankName</td>
                                                        <td colspan="3">@file.senderBranchName</td>
                                                        <td>@String.Format("{0:000}", file.trId)</td>
                                                        <td colspan="2">@file.accountNo</td>
                                                        <td>@file.chequeNo</td>
                                                        @{
                                                            var c_amt = Math.Round(Convert.ToDecimal(file.amount), 2);
                                                        }
                                                        @* <td>@String.Format("{0:N}", c_amt)</td> 
                                                        <td>@String.Format("{0:#,##0.00;(#,##0.00);0}",file.amount)</td>
                                                    </tr>
                                                    <tr class="even-row">
                                                        <th></th>
                                                        <th>IQA</th>
                                                        <th>UV</th>
                                                        <th>UV %</th>
                                                        <th>UV Tmp</th>
                                                        <th>QR Code</th>
                                                        <th>Micr</th>
                                                        <th>Std</th>
                                                        <th>Dup</th>
                                                        <th>Defer</th>
                                                        <th>Fraud History</th>
                                                        <th>History</th>
                                                        <th>Avg Cheque Amount</th>
                                                        <th>Total Cheque</th>
                                                        <th>Total Cheque Return</th>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-danger">IQA Result</td>
                                                        <td>@file.IQA</td>
                                                        <td>@file.UV</td>
                                                        <td>@file.UVperc</td>
                                                        <td>@file.Templateid</td>
                                                        <td>@file.bar</td>
                                                        <td>@file.MICR</td>
                                                        <td>@file.std</td>
                                                        <td>@file.dup</td>
                                                        <td>@file.isDeffer</td>
                                                        <td>@file.WMark</td>
                                                        <td></td>
                                                        @{
                                                            var c_amt2 = Math.Round(Convert.ToDecimal(file.avgChqSize), 2);
                                                        }
                                                        @* <td>@String.Format("{0:N}", c_amt2)</td> 
                                                        <td>@String.Format("{0:#,##0.00;(#,##0.00);0}",file.avgChqSize)</td>
                                                        <td>@file.tChq</td>
                                                        <td>@file.tChqR</td>
                                                    </tr>


                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                }
                            }*@
                        </tbody> 
                    </table>
                </div>
            </div>
        </div>
    </section>

    <section class="section2">
        <div class="row mt-3">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12 col-md-6 mt-lg-auto">
                                <p class="font-weight-bold mb-0">Bank :<span id="Banklbl"></span></p>
                            </div>
                            <div class="col-12 col-md-6 text-right">
                                <button type="button" class="btn btn-secondary" onclick="PrintPanel();"><i class="fa-solid fa-print"></i> Print Image</button>
                                <button type="button" class="btn btn-danger back_btn"><i class="fa-solid fa-chevron-left"></i> Back</button>
                            </div>
                        </div>

                        <div class="row mt-2">
                            <div class="col-12 col-md-6 col-lg-3">
                                <p class="font-weight-bold mb-0">Cycle :<span id="citylbl"></span></p>
                            </div>
                            <div class="col-12 col-md-6 col-lg-3">
                                <p class="font-weight-bold mb-0">City :<span id="Typelbl"></span></p>
                            </div>
                            <div class="col-12 col-md-6 col-lg-3">
                                <p class="font-weight-bold mb-0">Type :<span id="Cyclelbl"></span></p>
                            </div>
                            <div class="col-12 col-md-6 col-lg-3">
                                <p class="font-weight-bold mb-0"> Branch: <span id="branchlbl"></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12" id="print_div1">
                <table class="table-responsive">
                    <table class="table table-bordered table-striped text-center" id="sbrcp_transfer2">
                        <thead>
                            <tr>
                                <th>Tr Seq No</th>
                                <th>OW Bank Name</th>
                                <th>OW Branch Name</th>
                                <th>IW Bank Name</th>
                                <th>IW Branch Name</th>
                                <th>Tran Code</th>
                                <th>Acc No</th>
                                <th>Chq No</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                        </tbody>

                    </table>
                </table>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12 col-lg-6">
                <div class="row">
                    <div class="col-12">
                        <div class="bg-danger p-2 text-center text-white font-weight-bold">IQA Result</div>
                    </div>
                    <div class="col-12 mt-2">
                        <table class="table iqa-result-table">
                            <tbody>
                                <tr>
                                    <td class="border-0 pl-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Undersize Instrument</td>
                                                    <td><span id="UnderInstrument"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 p-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Folded or Torn Document Corners</td>
                                                    <td><span id="FdCorners"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 pr-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Folded or Torn Document Edges</td>
                                                    <td><span id="FdEdges"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="border-0 pl-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Framing Error</td>
                                                    <td><span id="FramingError"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 p-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Document Skew</td>
                                                    <td><span id="DocumentSkew"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 pr-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Oversize Instrument</td>
                                                    <td><span id="OSInstrument"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="border-0 pl-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Piggy Back</td>
                                                    <td><span id="PiggyBack"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 p-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Image Too Light</td>
                                                    <td><span id="ImageTooLight"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 pr-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Image Too Dark</td>
                                                    <td><span id="ImageTooDark"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="border-0 pl-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Horizontal Streaks</td>
                                                    <td><span id="HorizontalStreaks"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 p-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Below Mimimum Compressed Image Size</td>
                                                    <td><span id="BMCISize"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 pr-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Above Mimimum Compressed Image Size</td>
                                                    <td><span id="AMCISize"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="border-0 pl-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Front Rear Dimension Mismatch</td>
                                                    <td><span id="FRDMismatch"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 p-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Carbon Strip</td>
                                                    <td><span id="CarbonStrip"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="border-0 pr-0 pt-0">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td>Out of Focus</td>
                                                    <td><span id="OutofFocus"></span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col-12 col-lg-6">
                <div class="box1">

                    <img src="@ViewData["ImageDataURL"]" id="img1" alt="Cheque" class="image hover-shadow cursor">

                    <div class="middle">
                        <i class="fa-solid fa-magnifying-glass" onclick="openModal();currentSlide(1)"></i>
                    </div>
                </div>

                <div class="box2 mt-3">
                    <img src="@ViewData["ImageDataURL2"]" id="img2" alt="Cheque" class="image hover-shadow cursor">
                    <div class="middle">
                        <i class="fa-solid fa-magnifying-glass" onclick="openModal();currentSlide(2)"></i>
                    </div>
                </div>

                <div class="box3 mt-3">
                    <img src="@ViewData["ImageDataURL3"]" id="img3" alt="Cheque" class="image hover-shadow cursor">
                    <div class="middle">
                        <i class="fa-solid fa-magnifying-glass" onclick="openModal();currentSlide(3)"></i>
                    </div>
                </div>
            </div>
        </div>


    </section>
    <div id="myModal" class="modal img-modal">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <!-- <span class="rotate cursor" onclick="rotateImg()" id="rotate_img"><i class="fa-solid fa-rotate fa-1x"></i></span> -->
                    <span class="close cursor" onclick="closeModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="mySlides">
                        <img src="@ViewData["ImageDataURL"]" id="img4" class="w-100" alt="Cheque">
                    </div>
                    <div class="mySlides">
                        <img src="@ViewData["ImageDataURL2"]" id="img5" class="w-100" alt="Cheque">
                    </div>
                    <div class="mySlides">
                        <img src="@ViewData["ImageDataURL3"]" id="img6" class="w-100" alt="Cheque">
                    </div>
                    <a class="prev-btn" onclick="plusSlides(-1)"><i class="fa-solid fa-chevron-left"></i></a>
                    <a class="next-btn" onclick="plusSlides(1)"><i class="fa-solid fa-chevron-right"></i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="filter">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Filter By</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <h5>IQA</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_1" value="Pass" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Pass
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_1" value="Fail" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Fail
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2 mt-lg-0">
                            <h5>MICR</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_2" value="Pass" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Pass
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_2" value="Fail" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Fail
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2">
                            <h5>Standard</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_3" value="Yes" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Yes
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_3" value="No" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> No
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2">
                            <h5>Defer</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_4" value="Yes" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Yes
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_4" value="No" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> No
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2">
                            <h5>Fraud History</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_5" value="Yes" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Yes
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_5" value="No" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> No
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2">
                            <h5>QR Code</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_6" value="N/A" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> N/A
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_6" value="Not OK" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Not OK
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_6" value="OK" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> OK
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2">
                            <h5>UV</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_7" value="N/A" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> N/A
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_7" value="UVB.Avg" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> UV Present (B.Avg/Chk%)
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_7" value="UVA.Avg" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> UV Present (A.Avg/Chk%)
                            </label>
                        </div>

                        <div class="col-lg-6 mt-2">
                            <h5>Duplicate</h5>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_8" value="Not Dup" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Not Dup
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_8" value="Dup Check" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Dup Check
                            </label>
                            <label class="form-check-inline u-check g-pl-25 ml-0 g-mr-25">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_8" value="Represent Again" type="radio">
                                <div class="u-check-icon-radio-v4 g-absolute-centered--y g-left-0 g-width-18 g-height-18">
                                    <i class="g-absolute-centered d-block g-width-10 g-height-10 g-bg-primary--checked"></i>
                                </div> Represent Again
                            </label>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-lg-6">
                            <label for="account_from">Amount (Min)</label>
                            <input type="text" class="form-control" placeholder="Amount From" id="account_form" name="account_from" onkeypress="return isNumber(event)">
                        </div>

                        <div class="col-lg-6 mt-2 mt-lg-0">
                            <label for="account_to">Amount (Max)</label>
                            <input type="text" class="form-control" placeholder="Amount To" id="account_to" name="account_to" onkeypress="return isNumber(event)">
                        </div>

                        <div class="col-lg-6 mt-2">
                            <label for="cheque_no">Cheque No</label>
                            <input type="text" class="form-control" placeholder="Cheque No" id="cheque_no" name="cheque_no" onkeypress="return isNumber(event)">
                        </div>

                        <div class="col-lg-6 mt-2">
                            <label for="account_no">Account No</label>
                            <input type="text" class="form-control" placeholder="Account No" id="account_no" name="account_no" onkeypress="return isNumber(event)">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-secondary btn-apply" id="btnSave"><i class="fa-solid fa-check"></i> Apply</button>
                    <button type="button" class="btn btn-danger btn-clear" id="btnClear"><i class="fa-solid fa-eraser"></i> Clear</button>
                </div>
            </div>
        </div>
    </div>

</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#home_').removeClass('has-active');
        $('#br_').addClass('active');
        $('#sc_p').addClass('u-side-nav-opened active');
        $('#subMenu3').css('display', 'block');
        $('#lblcount').text('0');
        $('#lblamount').text('0.00');
        var dttable = $('#sbrcp_transfer').DataTable();
        //dttable.destroy();
        // $('#sbrcp_transfer').DataTable({
        //     dom: "<'row'<'col-sm-4'l><'col-sm-4 d-flex justify-content-center'B><'col-sm-4'f>>" +
        //         "<'row'<'col-sm-12'tr>>" +
        //         "<'row'<'col-sm-5'i><'col-sm-7'p>>",
        //     buttons: [{ extend: 'csv', text: 'Export to CSV' }, { extend: 'excel', text: 'Export to Excel' }],
        //     "ordering": false
        // });
        if (location.search != '') {
            try {

                $("#DDL_Bank").val(location.search.split('&')[0].split('=')[1]);
                $("#DDL_City").val(location.search.split('&')[1].split('=')[1]);
                $("#DDL_Cycle").val(location.search.split('&')[2].split('=')[1]);
                var sel = location.search.split('&')[3].split('=')[1];
                $("#DDL_Branch").val(location.search.split('&')[3].split('=')[1]);
                $("#DDL_BankType").val(location.search.split('&')[4].split('=')[1]);
            }
            catch { }
        }



        var DDLbank = document.querySelector('#DDL_Bank');
        var ddlcity = document.querySelector('#DDL_City');
        /*selected bank*/
        $.ajax({
            type: 'GET',
            url: '/Scoreboard/Branchboard?handler=Selectedbank',
            dataType: 'json',
            data: { "bank": DDLbank.value, "city": ddlcity.value },
            success: function (result) {
                $('#DDL_Branch').empty();
                $.each(result, function (id, br) {
                    $('#DDL_Branch').append('<option value=' + br.branchID + '>' + br.branchName + '</option>')
                });
                if (location.search != '') {
                    $("#DDL_Branch").val(location.search.split('&')[3].split('=')[1]);
                }
            }
        });

        $("#DDL_Bank").on("change", function () {
            $.ajax({
                type: 'GET',
                url: '/Scoreboard/Branchboard?handler=Selectedbank',
                dataType: 'json',
                data: { "bank": DDLbank.value, "city": ddlcity.value },
                success: function (result) {
                    $('#DDL_Branch').empty();
                    $.each(result, function (id, br) {
                        $('#DDL_Branch').append('<option value=' + br.branchID + '>' + br.branchName + '</option>')
                    });
                }
            });
        });


        /*selected City*/
        $.ajax({
            type: 'GET',
            url: '/Scoreboard/Branchboard?handler=Selectedcity',
            dataType: 'json',
            data: { "bank": DDLbank.value, "city": ddlcity.value },
            success: function (result) {
                $('#DDL_Branch').empty();
                $.each(result, function (id, br) {
                    $('#DDL_Branch').append('<option value=' + br.branchID + '>' + br.branchName + '</option>')
                });
                if (location.search != '') {
                    $("#DDL_Branch").val(location.search.split('&')[3].split('=')[1]);
                }
            }
        });

        $("#DDL_City").on("change", function () {
            $.ajax({
                type: 'GET',
                url: '/Scoreboard/Branchboard?handler=Selectedcity',
                dataType: 'json',
                data: { "bank": DDLbank.value, "city": ddlcity.value },
                success: function (result) {
                    $('#DDL_Branch').empty();
                    $.each(result, function (id, br) {
                        $('#DDL_Branch').append('<option value=' + br.branchID + '>' + br.branchName + '</option>')
                    });

                }
            });
        });
        function addComas(x) {
            var parts = x.toString().split(".");
            parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            return parts.join(".");
        }
        $("#submit_").click(function () {
            document.getElementById('loader_ct').style.visibility = "visible";
            var DDL_Bank = $('#DDL_Bank').val();
            var DDL_City = $('#DDL_City').val();
            var DDL_Cycle = $('#DDL_Cycle').val();
            var DDL_Branch = $('#DDL_Branch').val();
            var DDL_BankType = $('#DDL_BankType').val();
            var ward_class; var ward_class1;
            var rowCount = 0;
            var totalamount = 0;
            if ((DDL_Bank != "" && DDL_Bank != null) && (DDL_City != "" && DDL_City != "0" && DDL_City != null) && (DDL_Cycle != "" && DDL_Cycle != "0" && DDL_Cycle != null) && (DDL_Branch != "" && DDL_Branch != null) && (DDL_BankType != "" && DDL_BankType != null)) {
                var brd = {
                    bkcode: DDL_Bank,
                    citycode: DDL_City,
                    cycle: DDL_Cycle,
                    brcode: DDL_Branch,
                    bkType: DDL_BankType
                }
                console.log(brd);
                $.ajax({
                    type: 'POST',
                    url: '/Scoreboard/Branchboard?handler=FetchFiles',
                    contentType: "application/json",
                    headers: {
                        RequestVerificationToken:
                            $('input:hidden[name="__RequestVerificationToken"]').val()
                    },
                    data: JSON.stringify(brd),
                    dataType: "json",
                    success: function (res) {
                        if (DDL_BankType == "0") {
                            ward_class = "OW Bank Name";
                            ward_class1 = "OW Branch Name";
                        }
                        else {
                            ward_class = "IW Bank Name";
                            ward_class1 = "IW Branch Name";
                        }
                        $("#sbrcp_transfer > tbody").html("");
                        //dttable.rows().remove();
                        dttable.clear();
                        let newrow = '';//'<thead><tr><th></th></tr></thead><tbody>';
                        //$('#sbrcp_transfer').addClass('table table-bordered table-striped bank-transfer text-center');
                        //$('#sbrcp_transfer').append('<thead><tr><th></th></tr></thead><tbody>');
                        $.each(res, function (id, elem) {
                            //$('#sbrcp_transfer').append(
                              newrow +=  '<tr><td><table><tbody><tr class="odd-row"><th colspan="2"></th><th colspan="2">Tr Seq No</th>'
                            +'<th colspan = "3"> ' + ward_class + ' </th><th colspan="3">' + ward_class1 + '</th>'
                            +'<th>Tran Code</th><th colspan ="2"> Acc No </th><th> Chq No </th><th> Amount </th><td rowspan = "4">'
                                + '<button onclick="return ImageButton1(' + elem.hostId + ', \'' + elem.trCode + '\', \'' + elem.senderBankName + '\',\'' + elem.senderBranchName + '\','
                                + elem.trId + ',\'' + elem.accountNo + '\',\'' + elem.chequeNo + '\',\'' + elem.amount + '\',\'' + elem.recieverBankName + '\',\'' + elem.recieverBranchName + '\','
                                + '\'' + elem.underSizeImage + '\',\'' + elem.folderOrTornDocumentCorners + '\',\'' + elem.foldedOrTornDocumentEdges + '\',\'' + elem.framingError + '\',\'' + elem.documentSkew + '\',\'' + elem.overSizeImage + '\','
                                + '\'' + elem.piggyBack + '\',\'' + elem.imageTooLight + '\',\'' + elem.imageTooDark + '\',\'' + elem.horizontalStreaks + '\',\'' + elem.belowMinimumCompressedImageSize + '\','
                                + '\'' + elem.aboveMaximumCompressedImageSize + '\',\'' + elem.frontRearDimensionMismatch + '\',\'' + elem.carbonStrip + '\',\'' + elem.outOfFocus + '\','
                                + '\'' + elem.cycleDescription + '\',\'' + elem.clearingType + '\',\'' + elem.cityName + '\')"'
                                + ' type = "button" class= "btn btn-secondary view_btn"> <i class= "fa-solid fa-eye"> </i> View</button></td></tr>'
                                
                                + '<td class="text-danger bold_" colspan = "2" > MICR Data </td><td colspan = "2"> ' + elem.trCode + '</td><td class="bold_" colspan = "3" > ' + elem.senderBankName + '</td>' +
                                '<td class="bold_" colspan = "3">' + elem.senderBranchName + '</td><td class="bold_"> ' + String('000' + elem.trId).slice(-3) + '</td><td class="bold_" colspan = "2"> ' + String('0000000000000000' + elem.accountNo).slice(-16) + '</td>' +
                                '<td class="bold_">' + String('00000000' + elem.chequeNo).slice(-8) + '</td><td class="bold_">' + addComas(parseFloat(elem.amount).toFixed(2)) + '</td></tr><tr class= "even-row" ><th></th><th> IQA </th><th> UV </th>' +
                                '<th> UV % </th><th> UV Tmp </th><th> QR Code </th><th> Micr </th><th> Std </th><th> Dup </th><th> Defer </th>' +
                                '<th> Fraud History </th><th></th><th> Avg Cheque Amount </th><th> Total Cheque </th><th> Total Cheque Return </th>' +
                                '</tr><tr><td class="text-danger bold_" > IQA Result </td><td> ' + elem.iqa + '</td><td class="bold_"> ' + elem.uv + '</td><td class="bold_">' + elem.uVperc + '</td>' +
                                '<td class="bold_"> ' + elem.templateid + '</td><td class="bold_"> ' + elem.bar + '</td><td class="bold_"> ' + elem.micr + '</td><td class="bold_"> ' + elem.std + '</td><td class="bold_"> ' + elem.dup + '</td>' +
                                '<td class="bold_"> ' + elem.isDeffer + '</td><td class="bold_"> ' + elem.wMark + '</td><td class="text-danger bold_"> History</td><td class="bold_">' + addComas(parseFloat(elem.avgChqSize).toFixed(2)) + '</td><td class="bold_"> ' + elem.tChq + '</td>' +
                                '<td class="bold_"> ' + elem.tChqR + '</td></tr></tbody></table></td></tr>';
                            rowCount += 1;
                            totalamount += parseFloat(elem.amount);
                            dttable.row.add($(newrow)).draw();
                            newrow = '';
                        });
                        $('#lblcount').empty();
                        $('#lblcount').text(rowCount);
                        $('#lblamount').empty();
                        $('#lblamount').text(addComas(parseFloat(totalamount).toFixed(2)));
                        //$('#sbrcp_transfer').append('</tbody>');
                        
                        if (!DataTable.isDataTable('#sbrcp_transfer')) {
                            $('#sbrcp_transfer').DataTable({
                                dom: "<'row'<'col-sm-4'l><'col-sm-4 d-flex justify-content-center'B><'col-sm-4'f>>" +
                                    "<'row'<'col-sm-12'tr>>" +
                                    "<'row'<'col-sm-5'i><'col-sm-7'p>>",
                                buttons: [{ extend: 'csv', text: 'Export to CSV' }, { extend: 'excel', text: 'Export to Excel' }],
                                "ordering": false
                            });
                        }
                        dttable.draw();
                    }
                });
            }
            else {
                $("#div_msg").removeClass("hide").removeClass("bg-success").addClass("show").addClass("bg-danger");
                $("#msg").text("Please select the required fields!");
                setTimeout(
                    function () {
                        $('#div_msg').addClass("hide");
                    }, 5000);
            }
            setTimeout(
                function () {
                    document.getElementById('loader_ct').style.visibility = "hidden";
                }, 1000);
        });
    });
</script>
<style>
    .dt-buttons {
        display: none;
    }

    .bold_ {
        font-weight: bold;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {
        $('#sbrcp_city').select2();
        $('#sbrcp_cycle').select2();
        $('#sbrcp_ctype').select2();
        $('#sbrcp_branch').select2();


        $(".section2").hide();
        $(".view_btn").on("click", function () {
            $(".section2").show();
            $(".section1").hide();
        });
        $(".back_btn").on("click", function () {
            $(".section1").show();
            $(".section2").hide();
        });

        //////CLEAR FILTER BUTTON////
        $('#btnClear').click(function () {
            // $('#sbrcp_transfer').empty();
            $("#sbrcp_transfer > tbody").html("");
            $('#filter').modal('hide');
            var DDL_BankType = $('#DDL_BankType').val();
            var ward_class; var ward_class1;
            $.ajax({
                type: 'GET',
                url: '/Scoreboard/Branchboard?handler=ClearOut',
                success: function (result) {
                    if (DDL_BankType == "0") {
                        ward_class = "OW Bank Name";
                        ward_class1 = "OW Branch Name";
                    }
                    else {
                        ward_class = "IW Bank Name";
                        ward_class1 = "IW Branch Name";
                    }
                    var table = $('#sbrcp_transfer');
                    table.append('<thead><tr><th></th></tr></thead><tbody>');
                    $.each(result, function (id, elem) {
                        table.append('<tr><td>'
                            + '<table><tbody><tr class="odd-row"><th colspan="2"></th><th colspan="2"> Tr Seq No </th><th colspan="3"> ' + ward_class + ' </th>'
                            + '<th colspan="3"> ' + ward_class1 + ' </th><th> Tran Code </th><th colspan="2"> Acc No </th><th> Chq No </th><th> Amount </th>'
                            + '<td rowspan = "4"><button onclick="return ImageButton1(' + elem.hostId + ', \'' + elem.trCode + '\', \'' + elem.senderBankName + '\',\'' + elem.senderBranchName + '\','
                            + elem.trId + ',\'' + elem.accountNo + '\',\'' + elem.chequeNo + '\',\'' + elem.amount + '\',\'' + elem.recieverBankName + '\',\'' + elem.recieverBranchName + '\','
                            + '\'' + elem.underSizeImage + '\',\'' + elem.folderOrTornDocumentCorners + '\',\'' + elem.foldedOrTornDocumentEdges + '\',\'' + elem.framingError + '\',\'' + elem.documentSkew + '\',\'' + elem.overSizeImage + '\','
                            + '\'' + elem.piggyBack + '\',\'' + elem.imageTooLight + '\',\'' + elem.imageTooDark + '\',\'' + elem.horizontalStreaks + '\',\'' + elem.belowMinimumCompressedImageSize + '\','
                            + '\'' + elem.aboveMaximumCompressedImageSize + '\',\'' + elem.frontRearDimensionMismatch + '\',\'' + elem.carbonStrip + '\',\'' + elem.outOfFocus + '\','
                            + '\'' + elem.cycleDescription + '\',\'' + elem.clearingType + '\',\'' + elem.cityName + '\')" type = "button" class= "btn btn-secondary view_btn" > <i class= "fa-solid fa-eye" > </i> View</button></td></tr>'

                            + '  <tr><td class="text-danger bold_" colspan="2">MICR Data</td><td class="bold_" colspan="2">' + elem.trCode + '</td><td class="bold_" colspan="3">' + elem.senderBankName + ' </td>'
                            + '  <td class="bold_" colspan="3">' + elem.senderBranchName + ' </td><td class="bold_">' + String('000' + elem.trId).slice(-3) + ' </td> <td class="bold_" colspan="2"> ' + String('0000000000000000' + elem.accountNo).slice(-16) + ' </td> '
                            + '  <td class="bold_">' + String('00000000' + elem.chequeNo).slice(-8) + ' </td> <td class="bold_">' + addComas(parseFloat(elem.amount).toFixed(2)) + ' </td></tr>'

                            + '  <tr class="even-row"><th></th><th>IQA</th><th>UV</th><th>UV %</th><th>UV Tmp</th><th>QR Code</th><th>Micr</th><th>Std</th><th>Dup</th>'
                            + '  <th>Defer</th><th>Fraud History</th><th></th><th>Avg Chq Amt</th><th>Total Chq</th><th>Total Chq Rtn</th></tr><tr>'
                            + ' <td class="text-danger bold_">IQA Result</td>'
                            + '   <td class="bold_">' + elem.iqa + ' </td><td class="bold_">' + elem.uv + ' </td> <td class="bold_">' + elem.uVperc + '</td> <td class="bold_">' + elem.templateid + ' </td> <td class="bold_">' + elem.bar + ' </td>'
                            + '<td class="bold_">' + elem.micr + ' </td> <td class="bold_">' + elem.std + ' </td> <td class="bold_">' + elem.dup + ' </td> <td class="bold_">' + elem.isDeffer + ' </td>'
                            + '   <td>' + elem.wMark + ' </td>'
                            + '<td class="text-danger bold_">History</td> <td class="bold_">' + addComas(parseFloat(elem.avgChqSize).toFixed(2)) + ' </td><td class="bold_">' + elem.tChq + '</td> <td class="bold_">' + elem.tChqR + ' </td></tr> </tbody></table> </td></tr> ');
                        
                    });
                    table.append('</tbody>');


                }
            });
        });
        //////APPLY FILTER BUTTON////////
        $('#btnSave').click(function () {
            $('#filter').modal('hide');
            var IQA = $('input[name="radInline1_1"]:checked').val();
            var MICR = $('input[name="radInline1_2"]:checked').val();
            var STD = $('input[name="radInline1_3"]:checked').val();
            var Defer = $('input[name="radInline1_4"]:checked').val();
            var FRH = $('input[name="radInline1_5"]:checked').val();
            var QR = $('input[name="radInline1_6"]:checked').val();
            var UV = $('input[name="radInline1_7"]:checked').val();
            var Dup = $('input[name="radInline1_8"]:checked').val();
            var amt_min = $('#account_form').val();
            var amt_max = $('#account_to').val();
            var chq = $('#cheque_no').val();
            var acc = $('#account_no').val();
            var DDL_Bank = $('#DDL_Bank').val();
            var DDL_City = $('#DDL_City').val();
            var DDL_Cycle = $('#DDL_Cycle').val();
            var DDL_Branch = $('#DDL_Branch').val();
            var DDL_BankType = $('#DDL_BankType').val();
            var ward_class; var ward_class1;
            $.ajax({
                type: 'GET',
                url: '/Scoreboard/Branchboard?handler=FilterOut',
                dataType: 'json',
                data: {
                    "IQA": IQA, "MICR": MICR, "STD": STD, "Defer": Defer, "FRH": FRH, "QR": QR, "UV": UV, "Dup": Dup, "amt_min": amt_min,
                    "amt_max": amt_max, "chq": chq, "acc": acc, "DDL_Bank": DDL_Bank, "DDL_City": DDL_City, "DDL_Cycle": DDL_Cycle, "DDL_Branch": DDL_Branch
                },
                success: function (result) {
                    if (DDL_BankType == "0") {
                        ward_class = "OW Bank Name";
                        ward_class1 = "OW Branch Name";
                    }
                    else {
                        ward_class = "IW Bank Name";
                        ward_class1 = "IW Branch Name";
                    }
                    var table = $('#sbrcp_transfer');
                    table.empty();
                    table.append('<thead><tr><th></th></tr></thead><tbody>');
                    $.each(result, function (id, elem) {
                        table.append('<tr><td>'
                            + '<table><tbody><tr class="odd-row"><th colspan="2"></th><th colspan="2"> Tr Seq No </th><th colspan="3"> ' + ward_class + ' </th>'
                            + '<th colspan="3"> ' + ward_class1 + ' </th><th> Tran Code </th><th colspan="2"> Acc No </th><th> Chq No </th><th> Amount </th>'
                            + '<td rowspan = "4"><button onclick="return ImageButton1(' + elem.hostId + ', \'' + elem.trCode + '\', \'' + elem.senderBankName + '\',\'' + elem.senderBranchName + '\','
                            + elem.trId + ',\'' + elem.accountNo + '\',\'' + elem.chequeNo + '\',\'' + elem.amount + '\',\'' + elem.recieverBankName + '\',\'' + elem.recieverBranchName + '\','
                            + '\'' + elem.underSizeImage + '\',\'' + elem.folderOrTornDocumentCorners + '\',\'' + elem.foldedOrTornDocumentEdges + '\',\'' + elem.framingError + '\',\'' + elem.documentSkew + '\',\'' + elem.overSizeImage + '\','
                            + '\'' + elem.piggyBack + '\',\'' + elem.imageTooLight + '\',\'' + elem.imageTooDark + '\',\'' + elem.horizontalStreaks + '\',\'' + elem.belowMinimumCompressedImageSize + '\','
                            + '\'' + elem.aboveMaximumCompressedImageSize + '\',\'' + elem.frontRearDimensionMismatch + '\',\'' + elem.carbonStrip + '\',\'' + elem.outOfFocus + '\','
                            + '\'' + elem.cycleDescription + '\',\'' + elem.clearingType + '\',\'' + elem.cityName + '\')" type = "button" class= "btn btn-secondary view_btn"> <i class= "fa-solid fa-eye"> </i> View</button></td></tr>'

                            + '  <tr><td class="text-danger bold_" colspan="2">MICR Data</td><td class="bold_" colspan="2">' + elem.trCode + '</td><td class="bold_" colspan="3">' + elem.senderBankName + ' </td>'
                            + '  <td class="bold_" colspan="3">' + elem.senderBranchName + ' </td><td class="bold_">' + String('000' + elem.trId).slice(-3) + ' </td> <td class="bold_" colspan="2"> ' + String('0000000000000000' + elem.accountNo).slice(-16) + ' </td> '
                            + '  <td class="bold_">' + String('00000000' + elem.chequeNo).slice(-8) + ' </td> <td class="bold_">' + addComas(parseFloat(elem.amount).toFixed(2)) + ' </td></tr>'

                            + '  <tr class="even-row"><th></th><th>IQA</th><th>UV</th><th>UV %</th><th>UV Tmp</th><th>QR Code</th><th>Micr</th><th>Std</th><th>Dup</th>'
                            + '  <th>Defer</th><th>Fraud History</th><th></th><th>Avg Chq Amt</th><th>Total Chq</th><th>Total Chq Rtn</th></tr><tr>'
                            + ' <td class="text-danger bold_">IQA Result</td>'
                            + '   <td class="bold_">' + elem.iqa + ' </td><td class="bold_">' + elem.uv + ' </td> <td class="bold_">' + elem.uVperc + '</td> <td class="bold_">' + elem.templateid + ' </td> <td class="bold_">' + elem.bar + ' </td>'
                            + '<td class="bold_">' + elem.micr + ' </td> <td class="bold_">' + elem.std + ' </td> <td class="bold_">' + elem.dup + ' </td> <td class="bold_">' + elem.isDeffer + ' </td>'
                            + '   <td class="bold_">' + elem.wMark + ' </td>'
                            + '<td class="text-danger bold_">History</td> <td class="bold_">' + addComas(parseFloat(elem.avgChqSize).toFixed(2)) + ' </td><td class="bold_">' + elem.tChq + '</td> <td class="bold_">' + elem.tChqR + ' </td></tr> </tbody></table> </td></tr> ');
                        
                        });
                    table.append('</tbody>');
                }
            });
        });



    });
</script>

<script>
    function PrintPanel() {
        var printWindow = window.open('', '', 'height=650,width=900');
        printWindow.document.write('<html><head><title>Cheque Image Print</title>');
        printWindow.document.write('</head><body>');
        printWindow.document.write("<p>Image Front</p><img id='img' Width='450px' Height='200px' ImageAlign='Middle' style='display:block;margin:0 auto;' src='" + document.getElementById('img1').src + "'/>");
        printWindow.document.write('<br />');
        printWindow.document.write("<p>Image Back</p><img id='img' Width='450px' Height='200px' ImageAlign='Middle' style='display:block;margin:0 auto;' src='" + document.getElementById('img2').src + "'/>");
        printWindow.document.write('<br />');
        //printWindow.document.write("<img id='img' Width='600px' ImageAlign='Middle' style='display:block;margin:0 auto;' src='" + document.getElementById(' ImageUVPrint').src + "'/>" );
        //printWindow.document.write('<br />');
        printWindow.document.write("<div style='margin-left: 2%;'>");
        printWindow.document.write(document.getElementById("print_div1").innerHTML);
        printWindow.document.write('</div>');
        printWindow.document.close();
        setTimeout(function () {
            printWindow.print();
        }, 500);
    }
</script>

<script type="text/javascript">
    function addComas(x) {
        var parts = x.toString().split(".");
        parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        return parts.join(".");
    }
    function openModal() {
        document.getElementById("myModal").style.display = "block";
    }

    function closeModal() {
        document.getElementById("myModal").style.display = "none";
    }
    var slideIndex = 1;
    showSlides(slideIndex);

    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        if (n > slides.length) {
            slideIndex = 1
        }
        if (n < 1) {
            slideIndex = slides.length
        }
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slides[slideIndex - 1].style.display = "block";
    }

    function pad(str, max) {
        str = str.toString();
        return str.length < max ? pad("0" + str, max) : str;
    }

    function ImageButton1(hostId, trCode, senderBankName, senderBranchName, trId, accountNo, chequeNo, amount, rbknm, recieverBranchName, underSizeImage, folderOrTornDocumentCorners,
        foldedOrTornDocumentEdges, framingError, documentSkew, overSizeImage, piggyBack, imageTooLight, imageTooDark, horizontalStreaks, belowMinimumCompressedImageSize,
        aboveMaximumCompressedImageSize, frontRearDimensionMismatch, carbonStrip, outOfFocus, cityName, cycleDescription, clearingType) {
        document.getElementById('loader_ct').style.visibility = "visible";
        $(".section2").show();
        $(".section1").hide();
        window.scrollTo(0, 0);
        $.ajax({
            type: 'GET',
            url: '/Scoreboard/Branchboard?handler=CheckImages',
            dataType: 'json',
            data: {
                "hostId": hostId
            },
            success: function (data) {

                var resp = data.split("|");
                $('#tableBody').empty();
                $('#tableBody').append('<td>' + trCode + '</td>', '<td>' + senderBankName + '</td>', '<td>' + senderBranchName + '</td>', '<td>' + rbknm + '</td>', '<td>' + recieverBranchName + '</td>',
                    '<td>' + String('000' + trId).slice(-3) + '</td>', '<td>' + String('0000000000000000' + accountNo).slice(-16) + '</td>', '<td>' + String('00000000' + chequeNo).slice(-8) + '</td>', '<td>' + addComas(parseFloat(amount).toFixed(2)) + '</td>');

                if (underSizeImage == "Not OK") {
                    $('#UnderInstrument').css('color', '#d61f2a');
                    $('#UnderInstrument').css('font-weight', 'bold');
                }
                if (folderOrTornDocumentCorners == "Not OK") {
                    $('#FdCorners').css('color', '#d61f2a');
                    $('#FdCorners').css('font-weight', 'bold');
                }
                if (foldedOrTornDocumentEdges == "Not OK") {
                    $('#FdEdges').css('color', '#d61f2a');
                    $('#FdEdges').css('font-weight', 'bold');
                }
                if (framingError == "Not OK") {
                    $('#FramingError').css('color', '#d61f2a');
                    $('#FramingError').css('font-weight', 'bold');
                }
                if (documentSkew == "Not OK") {
                    $('#DocumentSkew').css('color', '#d61f2a');
                    $('#DocumentSkew').css('font-weight', 'bold');
                }
                if (overSizeImage == "Not OK") {
                    $('#OSInstrument').css('color', '#d61f2a');
                    $('#OSInstrument').css('font-weight', 'bold');
                }
                if (piggyBack == "Not OK") {
                    $('#PiggyBack').css('color', '#d61f2a');
                    $('#PiggyBack').css('font-weight', 'bold');
                }
                if (imageTooLight == "Not OK") {
                    $('#ImageTooLight').css('color', '#d61f2a');
                    $('#ImageTooLight').css('font-weight', 'bold');
                }
                if (imageTooDark == "Not OK") {
                    $('#ImageTooDark').css('color', '#d61f2a');
                    $('#ImageTooDark').css('font-weight', 'bold');
                }
                if (horizontalStreaks == "Not OK") {
                    $('#HorizontalStreaks').css('color', '#d61f2a');
                    $('#HorizontalStreaks').css('font-weight', 'bold');
                }
                if (belowMinimumCompressedImageSize == "Not OK") {
                    $('#BMCISize').css('color', '#d61f2a');
                    $('#BMCISize').css('font-weight', 'bold');
                }
                if (aboveMaximumCompressedImageSize == "Not OK") {
                    $('#AMCISize').css('color', '#d61f2a');
                    $('#AMCISize').css('font-weight', 'bold');
                }
                if (frontRearDimensionMismatch == "Not OK") {
                    $('#FRDMismatch').css('color', '#d61f2a');
                    $('#FRDMismatch').css('font-weight', 'bold');
                }
                if (carbonStrip == "Not OK") {
                    $('#CarbonStrip').css('color', '#d61f2a');
                    $('#CarbonStrip').css('font-weight', 'bold');
                }
                if (outOfFocus == "Not OK") {
                    $('#OutofFocus').css('color', '#d61f2a');
                    $('#OutofFocus').css('font-weight', 'bold');
                }
                $("#UnderInstrument").text(underSizeImage);
                $("#FdCorners").text(folderOrTornDocumentCorners);
                $("#FdEdges").text(foldedOrTornDocumentEdges);
                $("#FramingError").text(framingError);
                $("#DocumentSkew").text(documentSkew);
                $("#OSInstrument").text(overSizeImage);
                $("#PiggyBack").text(piggyBack);
                $("#ImageTooLight").text(imageTooLight);
                $("#ImageTooDark").text(imageTooDark);
                $("#HorizontalStreaks").text(horizontalStreaks);
                $("#BMCISize").text(belowMinimumCompressedImageSize);
                $("#AMCISize").text(aboveMaximumCompressedImageSize);
                $("#FRDMismatch").text(frontRearDimensionMismatch);
                $("#CarbonStrip").text(carbonStrip);
                $("#OutofFocus").text(outOfFocus);

                $("#citylbl").text(cityName);
                $("#Cyclelbl").text(cycleDescription);
                $("#Typelbl").text(clearingType);
                $("#Banklbl").text(rbknm);
                $("#branchlbl").text(recieverBranchName);

                $("#img1").attr('src', resp[1]);
                $("#img2").attr('src', resp[2]);
                $("#img3").attr('src', resp[3]);
                $("#img4").attr('src', resp[1]);
                $("#img5").attr('src', resp[2]);
                $("#img6").attr('src', resp[3]);
                document.getElementById('loader_ct').style.visibility = "hidden";
            },
            error: function () {
                //alert("An error occurred while fetching data.");
            }
        });

    }
</script>